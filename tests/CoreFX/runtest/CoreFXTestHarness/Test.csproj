<Project DefaultTargets="LinkNative">
    <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" />
    <!-- Override Default MSBuild properties-->
    <PropertyGroup>
        <TargetName>$(ExecutableName)</TargetName>
        <TargetExt>.exe</TargetExt>
        <OutputType>Exe</OutputType>
    </PropertyGroup>
    
    <PropertyGroup>
        <XunitPackageVersion>2.2.0-beta2-build3300</XunitPackageVersion>
        <ToolsDir>$(FrameworkLibPath)\..\tools\</ToolsDir>
        <TargetFramework>netcoreapp2.0</TargetFramework>
        <!-- Don't warn if some dependencies were rolled forward -->
        <NoWarn>$(NoWarn);NU1603</NoWarn>
    </PropertyGroup>

    <ItemGroup>
        <RdXmlFile Include="default.rd.xml" />
    </ItemGroup>
    <ItemGroup>
        <PackageReference Include="xunit.abstractions">
            <Version>2.0.1-rc2</Version>
        </PackageReference>
        <PackageReference Include="xunit.assert">
            <Version>$(XunitPackageVersion)</Version>
        </PackageReference>
        <PackageReference Include="xunit.extensibility.core">
            <Version>$(XunitPackageVersion)</Version>
        </PackageReference>
        <PackageReference Include="xunit.core">
            <Version>$(XunitPackageVersion)</Version>
        </PackageReference>
        <PackageReference Include="xunit.runner.utility">
            <Version>$(XunitPackageVersion)</Version>
        </PackageReference>
        <PackageReference Include="xunit.extensibility.execution">
            <Version>$(XunitPackageVersion)</Version>
        </PackageReference>
        <PackageReference Include="microsoft.xunit.netcore.extensions">
            <Version>1.0.1-prerelease-02104-02</Version>
        </PackageReference>
    </ItemGroup>
    <ItemGroup>
        <!-- Some tests consist of multiple assemblies - make sure ILC sees them -->
        <IlcCompileInput Include="$(MSBuildProjectDirectory)\*.dll" />
        <IlcCompileInput Include="$(ToolsDir)System.Private.Xml.Linq.dll" />
        <IlcCompileInput Include="$(ToolsDir)System.Private.Xml.dll" />
    </ItemGroup>
    <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk" />
    <!-- Set OutputPath after the SDK targets have been imported-->
    <PropertyGroup>
        <OutputPath>$(MSBuildProjectDirectory)\</OutputPath>
        <IntermediateOutputPath>$(MSBuildProjectDirectory)\</IntermediateOutputPath>
    </PropertyGroup>
    <Import Project="$(IlcPath)\build\Microsoft.NETCore.Native.targets" />
    <!-- Since tests are already compiled, override Compile target to prevent CSC running -->
    <Target Name="Compile" />
</Project>